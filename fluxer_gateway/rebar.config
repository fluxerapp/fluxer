{erl_opts, [debug_info, nowarn_deprecated_function]}.
{deps, [
    {jsx, "3.1.0"},
    {cowboy, "2.14.2"},
    {hackney, "1.25.0"},
    {base64url, "1.0.1"},
    {ezstd, "1.1.0"},
    {jose, "1.11.10"}
]}.

{overrides, [
    {override, cowboy, [{deps, [cowlib, ranch]}]}
]}.

{relx, [
    {release, {fluxer_gateway, "0.0.0"}, [
        fluxer_gateway,
        sasl
    ]},
    {dev_mode, true},
    {include_erts, false},
    {extended_start_script, true},
    {sys_config, "./config/sys.config"},
    {vm_args, "./config/vm.args"}
]}.

{profiles, [
    {prod, [
        {relx, [
            {dev_mode, false},
            {include_erts, true}
        ]}
    ]}
]}.

{shell, [
    {config, "config/sys.config"},
    {vm_args, "config/vm.args"},
    {apps, [fluxer_gateway]}
]}.

{project_plugins, [erlfmt]}.
{erlfmt, [write]}.

{dialyzer, [
    {plt_extra_apps, [ezstd, jose]}
]}.
